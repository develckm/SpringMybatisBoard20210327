<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <title>로그인 폼</title>
</head>
    <div layout:fragment="content">
        <form class="mx-auto" action="/user/login.do" method="post" style="width: 450px;">
            <h1 class="my-4">로그인 폼</h1>
            <p class="form-floating">
                <input type="text" name="uId" value="user01" class="form-control" placeholder="아이디">
                <label>아이디</label>
            </p>
            <p class="form-floating">
                <input type="password" name="pw" value="1234" class="form-control" placeholder="아이디">
                <label>패스워드</label>
            </p>
            <p class="form-check">
                <input type="checkbox" value="1" name="autoLogin" id="autoLogin" class="form-check-input">
                <label for="autoLogin" class="form-check-label">
                    일주일 자동 로그인
                </label>
            </p>
            <p class="text-end">
                <a class="btn btn-info" href="/user/signup.do">회원가입</a>
                <button class="btn btn-primary">로그인</button>
            </p>

            <div class="text-end">
                <button id="naverLoginBtn" class="btn p-0" type="button">
                    <img src="/public/img/naver/btnG_완성형.png" style="height: 40px">
                </button>
            </div>
        </form>
        <script>
            const naverLoginBtn=document.getElementById("naverLoginBtn");
            naverLoginBtn.addEventListener("click",(e)=>{
                let url = 'https://nid.naver.com/oauth2.0/authorize?' +
                    'response_type=code' +                  // 인증과정에 대한 내부 구분값 code 로 전공 (고정값)
                    '&client_id=o4uWPp2yqvkDVov8casR' +     // 발급받은 client_id 를 입력
                    '&state=NAVER_LOGIN_TEST' +             // CORS 를 방지하기 위한 특정 토큰값(임의값 사용)
                    '&redirect_uri=http://localhost:8080/user/naver/login.do';   // 어플케이션에서 등록했던 CallBack URL를 입력

                // 사용자가 사용하기 편하게끔 팝업창으로 띄어준다.
                window.location.href=url;
            });
        </script>
    </div>
</html>